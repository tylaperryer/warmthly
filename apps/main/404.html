<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>404 - Page Not Found</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    @font-face {
      font-family: 'Cormorant Garamond';
      font-style: normal;
      font-weight: 300 700;
      font-display: swap;
      src: url('/fonts/CormorantGaramond-VariableFont_wght.ttf') format('truetype');
    }
    
    html, body {
      height: 100%;
      width: 100%;
      overflow: hidden;
    }
    
    body {
      background-color: #0078d7;
      color: #ffffff;
      font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, sans-serif;
      padding: 0;
      position: relative;
    }
    
    .warmthly-logo {
      position: fixed;
      top: 1.5rem;
      left: 1.5rem;
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-weight: 700;
      font-size: 2.5rem;
      line-height: 1.2;
      color: #ffffff;
      user-select: none;
      text-decoration: none;
      letter-spacing: normal;
      z-index: 1000;
    }
    
    .warmthly-logo:hover {
      opacity: 0.9;
    }
    
    .bsod-container {
      padding: 100px 0 60px 80px;
      text-align: left;
    }
    
    .sad-face {
      font-size: 90px;
      line-height: 1;
      margin-bottom: 30px;
      font-weight: normal;
    }
    
    .main-message {
      font-size: 26px;
      line-height: 1.4;
      margin-bottom: 30px;
      font-weight: 300;
    }
    
    .progress-section {
      margin-bottom: 30px;
    }
    
    .progress-text {
      font-size: 20px;
      margin-bottom: 15px;
      font-weight: 300;
    }
    
    .progress-bar-container {
      width: 100%;
      max-width: 600px;
      height: 4px;
      background-color: rgba(255, 255, 255, 0.2);
      border-radius: 2px;
      overflow: hidden;
      margin-bottom: 50px;
    }
    
    .progress-bar {
      height: 100%;
      background-color: #ffffff;
      width: 0%;
      transition: width 0.3s ease-out;
      border-radius: 2px;
    }
    
    .info-text {
      font-size: 16px;
      line-height: 1.6;
      margin-bottom: 20px;
      font-weight: 300;
    }
    
    .support-info {
      font-size: 14px;
      line-height: 1.6;
      margin-top: 30px;
      font-weight: 300;
    }
    
    .stop-code {
      font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
      font-weight: 400;
    }
    
    @media (max-width: 768px) {
      .warmthly-logo {
        font-size: 2rem;
        top: 1rem;
        left: 1rem;
      }
      
      .bsod-container {
        padding: 80px 0 40px 30px;
      }
      
      .sad-face {
        font-size: 70px;
        margin-bottom: 25px;
      }
      
      .main-message {
        font-size: 20px;
        margin-bottom: 25px;
      }
      
      .progress-text {
        font-size: 18px;
        margin-bottom: 35px;
      }
      
      .info-text {
        font-size: 14px;
      }
      
      .support-info {
        font-size: 12px;
      }
    }
  </style>
</head>
<body>
  <a href="#" class="warmthly-logo" id="warmthly-logo">Warmthly</a>
  
  <div class="bsod-container">
    <div class="sad-face">:(</div>
    
    <div class="main-message">
      Your PC ran into a problem and needs to restart. We're<br>
      just collecting some error info, and then we'll restart for<br>
      you.
    </div>
    
    <div class="progress-section">
      <div class="progress-text" id="progress-text">0% complete</div>
      <div class="progress-bar-container">
        <div class="progress-bar" id="progress-bar"></div>
      </div>
    </div>
    
    <div class="info-text">
      For more information about this issue and possible fixes, visit our website.
    </div>
    
    <div class="support-info">
      If you call a support person, give them this info:<br>
      Stop code: <span class="stop-code">0x00003007</span>
    </div>
  </div>
  
  <script>
    // Animated progress bar - runs immediately with random jumps
    (function() {
      const progressBar = document.getElementById('progress-bar');
      const progressText = document.getElementById('progress-text');
      let currentProgress = 0;
      const targetProgress = 100;
      const homepageUrl = 'https://www.warmthly.org';
      let hasReached100 = false;
      
      function updateProgress(percentage) {
        currentProgress = Math.min(Math.max(percentage, 0), 100);
        if (progressBar) {
          progressBar.style.width = currentProgress + '%';
        }
        if (progressText) {
          progressText.textContent = Math.round(currentProgress) + '% complete';
        }
      }
      
      function incrementProgress() {
        if (currentProgress >= targetProgress && !hasReached100) {
          hasReached100 = true;
          updateProgress(100);
          // Wait 5 seconds at 100% then redirect
          setTimeout(() => {
            window.location.href = homepageUrl;
          }, 5000);
          return;
        }
        
        if (hasReached100) {
          return; // Already at 100%, waiting for redirect
        }
        
        // Random jump: sometimes small increments, sometimes big jumps
        let increment;
        const jumpType = Math.random();
        
        if (jumpType < 0.3) {
          // 30% chance: Big jump (5% to 30%)
          increment = Math.random() * 25 + 5;
        } else if (jumpType < 0.6) {
          // 30% chance: Medium jump (2% to 15%)
          increment = Math.random() * 13 + 2;
        } else {
          // 40% chance: Small increment (0.5% to 5%)
          increment = Math.random() * 4.5 + 0.5;
        }
        
        const newProgress = Math.min(currentProgress + increment, targetProgress);
        
        // Random delay: sometimes very short, sometimes longer waits
        let delay;
        const delayType = Math.random();
        
        if (delayType < 0.2) {
          // 20% chance: Long wait (2 to 4 seconds)
          delay = Math.random() * 2000 + 2000;
        } else if (delayType < 0.5) {
          // 30% chance: Medium wait (500ms to 2 seconds)
          delay = Math.random() * 1500 + 500;
        } else {
          // 50% chance: Short wait (100ms to 500ms)
          delay = Math.random() * 400 + 100;
        }
        
        updateProgress(newProgress);
        
        setTimeout(incrementProgress, delay);
      }
      
      // Start the animation when DOM is ready
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', () => {
          updateProgress(0);
          setTimeout(incrementProgress, 500);
        });
      } else {
        updateProgress(0);
        setTimeout(incrementProgress, 500);
      }
    })();
  </script>
  
  <script type="module">
    // Update logo link if config loads
    import { WARMTHLY_CONFIG } from '/lego/config/warmthly-config.js';
    const logo = document.getElementById('warmthly-logo');
    if (logo) {
      logo.href = WARMTHLY_CONFIG.urls.main;
    }
  </script>
</body>
</html>
